import{computePosition as e,arrow as t}from"@floating-ui/dom";export{autoPlacement,detectOverflow,flip,getScrollParents,hide,inline,limitShift,offset,shift,size}from"@floating-ui/dom";import{useLayoutEffect as r,useEffect as n,useRef as o,useState as l,useCallback as i,useMemo as u}from"react";var f="undefined"!=typeof document?r:n;function c(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;0!=n--;)if(!c(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;for(n=r;0!=n--;){const r=o[n];if(("_owner"!==r||!e.$$typeof)&&!c(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function a(t){let{middleware:r,placement:n,strategy:a}=void 0===t?{}:t;const p=o(null),s=o(null),[d,m]=l({x:null,y:null,strategy:null!=a?a:"absolute",placement:"bottom",middlewareData:{}}),[y,g]=l(r);c(null==y?void 0:y.map((e=>{let{options:t}=e;return t})),null==r?void 0:r.map((e=>{let{options:t}=e;return t})))||g(r);const h=o(!0);f((()=>(h.current=!0,()=>{h.current=!1})),[]);const w=i((()=>{p.current&&s.current&&e(p.current,s.current,{middleware:y,placement:n,strategy:a}).then((e=>{h.current&&m(e)}))}),[y,n,a]);f(w,[w]);const b=i((e=>{p.current=e,w()}),[w]),O=i((e=>{s.current=e,w()}),[w]);return u((()=>({...d,update:w,reference:b,floating:O,refs:{reference:p,floating:s}})),[d,w,b,O])}const p=e=>{const{element:r,padding:n}=e;return{name:"arrow",options:e,fn(e){return o=r,Object.prototype.hasOwnProperty.call(o,"current")?null!=r.current?t({element:r.current,padding:n}).fn(e):{}:r?t({element:r,padding:n}).fn(e):{};var o}}};export{p as arrow,a as useFloating};
